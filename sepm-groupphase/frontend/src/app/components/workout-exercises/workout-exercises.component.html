<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
      integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

<div *ngIf="error" class="alert alert-warning alert-dismissible fade show" role="alert">{{ error }}
  <button type="button" (click)="vanishError()" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="container-fluid">

  <div class="container">
    <div class="row">

      <div class="col-sm-3">
        <img class="img-fluid" src="{{imagePath}}" alt="dude profile image">
        <div class="row-sm-1">
          <h4 style="text-decoration: underline; text-align: center">{{userName}}</h4>
        </div>
      </div>
      <div class="col-sm-9">
        <h1>Choose Exercises</h1>
        <p>Search for exercises to add to your workout!</p>
        <div class="row">
          <div class="search-hero">
            <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off">
          </div>
        </div>
        <div class="row">
          <div class="searchResults">
            <h4>Search Results</h4>
            <ul>
              <li *ngFor='let element of exercisesFound'>
                <p> {{element.name}}
                  <button type="button" (click)="addToChosenExercises(element)" class="btn btn-secondary"><i
                    class="fa fa-plus"></i></button>
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div>
          <div class="row">
            <div class="chosenExercises">
              <h4>Chosen Exercises</h4>
              <ul>
                <li *ngFor='let element of chosenExercises'>
                  <p>{{element.name}}
                    <button type="button" (click)="removeFromChosenExercises(element)" class="btn btn-secondary"><i
                      class="fa fa-trash"></i></button>
                  </p>
                  <div class="form">
                    <form [formGroup]="workoutExForm" (ngSubmit)="addCourse()">
                      <span class="anchor" id="workoutExForm"></span>

                      <div class="form-group">
                        <label for="repetitions">Repetitions</label>
                        <input type="number" name="repetitions" maxlength="50" class="form-control" id="repetitions"
                               formControlName="repetitions"
                               aria-describedby="repetitionsHelp" placeholder="Enter number of repetitions">
                        <div *ngIf="submitted && !!workoutExForm.controls.repetitions.errors" class="error">
                          <small class="form-text text-warning"
                                 *ngIf="!!workoutExForm.controls.repetitions.errors.required">
                            Number of repetitions is
                            required!
                          </small>
                        </div>
                      </div>

                      <div class="form-group">
                        <label for="sets">Sets</label>
                        <input type="number" name="sets" class="form-control" id="sets" formControlName="sets"
                               aria-describedby="setsHelp" placeholder="Enter number of sets">
                        <div *ngIf="submitted && !!workoutExForm.controls.sets.errors" class="error">
                          <small class="form-text text-warning" *ngIf="!!workoutExForm.controls.sets.errors.required">
                            Number
                            of sets is
                            required!
                          </small>
                        </div>
                      </div>

                      <div class="form-group">
                        <label for="duration">Duration</label>
                        <input type="number" name="duration" class="form-control" id="duration"
                               formControlName="duration"
                               aria-describedby="durationHelp" placeholder="Enter duration of exercise">
                        <div *ngIf="submitted && !!workoutExForm.controls.duration.errors" class="error">
                          <small class="form-text text-warning"
                                 *ngIf="!!workoutExForm.controls.duration.errors.required">
                            Duration exercise is
                            required!
                          </small>
                        </div>
                      </div>
                    </form>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button type="button" (click)="saveExercisesTemporarily()" class="btn btn-success float-right">Add to workout</button>
  <a [routerLink]="['/create']" class="btn btn-link">Cancel</a>
</div>
